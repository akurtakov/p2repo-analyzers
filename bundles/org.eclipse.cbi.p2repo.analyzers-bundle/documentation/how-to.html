<h1>Running your own Repository Reports</h1>

<!-- 
     Note: This document is duplicated in the wiki and the Git repository:
     https://wiki.eclipse.org/CBI/p2repoAnalyzers/Repo_Reports_Running_Locally
     org.eclipse.cbi.p2repo.analyzers-bundle/documentation/how-to.html
     They should be kept in sync (or, one removed, if not needed). 
-->

<h2>Introduction</h2>
<p>This document gives a brief outline of how to run the "repo reports" locally,
against a repository on your local file system. </p>

<p>There are some tests, that look at jars specifically,
that require the jars to be on local file system and essentially use plain 'ol Java file IO and regex-type checks on
the contents.</p>

<p>Another class of tests, read the content.jar/xml meta-data and reports on the data or relationships in
that meta data. </p>

<p>Yet another, small class of tests, verify the jars are signed. 
These tests are not really "Java" or "workspace" related, but use Java's "exec" method
to invoke "jarsigner -verify" on multiple threads, on a directory of jars.</p>

<h2>Running the repo tests</h2>

<p>These instructions are focus for "running from your workspace", but could also easily be done "from the command line" if you know how
to run Eclipse Applications from the command line.<p>

<h3>The Basics</h3>

<p>The Eclipse Application is named 'org.eclipse.cbi.p2repo.analyzers.repoReport'. It takes two "system properties"; one to specify
where you want the output to go, and another to specify where the repo is on the file system. For example:</p>
<ul>
<li>-DreportOutputDir=/home/shared/eclipse/repoReport</li>
<li>-DreportRepoDir=/home/www/html/downloads/eclipse/updates/4.2-I-builds/I20120531-1500/</li>
</ul>

<h3>The Details</h3>

<p>The source project is named 'org.eclipse.cbi.p2repo.analyzers' and is currently in Git in repository named 'cbi/org.eclipse.cbi.p2repo.analyzers.git'. See {{Git|CBI|org.eclipse.cbi.p2repo.analyzers.git}}.</p>

<p>Once you load that project into your workspace, it will include one "launch configuration" that can be used as a starting example,
edited and used to launch
the application from your workspace.</p>

<p>On a large repository, it take 5 or 10 minutes to complete, and then you just to look at the
results (usually) with a web browser starting with the 'index.html' at the location you specified in 'reportOutputDir' property.</p>

<h2>Getting help or making contributions</h2>

<p>You can ask questions on cross-project list if the tests do not work as expected. Or, even better, you can make improvements/fixes directly on this wiki, if the instructions can be better. Feel free to supply patches on the cross-project component in bugzilla.</p>

<!--
[[Category:CBI| ]] [[Category:Oxygen| ]] [[Category:Neon| ]] [[Category:Mars| ]] [[Category:Luna| ]]
-->